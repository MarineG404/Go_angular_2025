<div class="parties-container">
  <h2>Saved Parties</h2>

  @if (parties.length === 0) {
    <p class="no-parties">No saved parties.</p>
  } @else {
    <table>
      <thead>
        <tr>
          <th>Date</th>
          <th>Joueur 1</th>
          <th>Joueur 2</th>
          <th>Scores</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        @for (party of parties; track party.id) {
          <tr>
            <td>{{ party.date | date:'short' }}</td>
            <td>{{ party.player1 }}</td>
            <td>{{ party.player2 }}</td>
            <td>{{ party.state.scores['player1'] }} - {{ party.state.scores['player2'] }}</td>
            <td class="actions">
              <button (click)="charge(party.id)"><i class="ri-play-line"></i> Load</button>
              <button class="delete" (click)="deleteParty(party.id)"><i class="ri-delete-bin-line"></i>Delete</button>
            </td>
          </tr>
        }
      </tbody>
    </table>
  }

  <a routerLink="/" class="back-link"><i class="ri-arrow-left-line"></i> Back to game</a>
</div>
